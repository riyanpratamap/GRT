<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daftar Peserta Golem Challenge 2026</title>
    <meta name="description"
        content="Daftar peserta Golem Challenge 2026 untuk kategori Kamtom 1/18 dan WL-Toys 1/28 - Auto-refresh setiap 30 detik">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        /* Smooth fade animation */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        /* Gradient background */
        .bg-gradient-premium {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        /* Custom scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            height: 8px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* Shimmer loading effect */
        @keyframes shimmer {
            0% {
                background-position: -1000px 0;
            }

            100% {
                background-position: 1000px 0;
            }
        }

        .shimmer {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 1000px 100%;
            animation: shimmer 2s infinite;
        }
    </style>
</head>

<body class="bg-gray-50 min-h-screen">
    <div x-data="participantApp()" x-init="init()" class="min-h-screen pb-12">
        <!-- Registration CTA Section -->
        <section class="bg-gradient-to-br from-green-400 via-emerald-500 to-teal-600 shadow-2xl">
            <div class="container mx-auto px-4 py-12 md:py-16">
                <div class="max-w-3xl mx-auto text-center">
                    <!-- Banner Image -->
                    <div class="mb-6 flex justify-center">
                        <img src="assets/banner.png" alt="Event Banner"
                            class="w-auto max-w-xs md:max-w-md lg:max-w-lg drop-shadow-2xl rounded-lg" />
                    </div>

                    <!-- Heading -->
                    <h2 class="text-3xl md:text-5xl font-bold text-white mb-4 tracking-tight">
                        Mau Ikut Balap? Daftar di Sini!
                    </h2>

                    <!-- Subtext -->
                    <p class="text-lg md:text-xl text-green-50 mb-8 leading-relaxed max-w-2xl mx-auto">
                        Klik tombol di bawah untuk mengisi formulir pendaftaran. Data kamu akan otomatis masuk ke
                        daftar peserta.
                    </p>

                    <!-- CTA Button -->
                    <a href="https://docs.google.com/forms/d/e/1FAIpQLSe1X3UROWTCbh3Z6lyTrFaxtCQ9NBFJhUoBsKECjW3_bC1tgw/viewform"
                        target="_blank" rel="noopener noreferrer"
                        class="inline-flex items-center gap-3 bg-white text-green-600 font-bold text-lg md:text-xl px-8 md:px-12 py-4 md:py-5 rounded-full shadow-xl hover:shadow-2xl hover:scale-105 transform transition-all duration-300 hover:bg-green-50 group">
                        <span>Buka Form Pendaftaran</span>
                        <svg class="w-6 h-6 group-hover:translate-x-1 transition-transform duration-300" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                                d="M13 7l5 5m0 0l-5 5m5-5H6" />
                        </svg>
                    </a>
                </div>
            </div>
        </section>

        <main class="container mx-auto px-4 py-8 md:py-12 space-y-12">
            <!-- Kamtom 1/18 Section -->
            <section class="fade-in">
                <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
                    <!-- Section Header -->
                    <div class="bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-5">
                        <h2 class="text-2xl md:text-3xl font-bold text-white flex items-center gap-3">
                            <span class="text-3xl">üèéÔ∏è</span>
                            <span>Kamtom 1/18</span>
                        </h2>
                        <p class="text-blue-100 text-sm mt-1">
                            Total: <span x-text="kamtomData.length"></span> peserta
                        </p>
                    </div>

                    <!-- Table Container -->
                    <div class="overflow-x-auto custom-scrollbar">
                        <table class="w-full">
                            <thead class="bg-gray-50 sticky top-0">
                                <tr>
                                    <th
                                        class="px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider border-b-2 border-gray-200">
                                        No
                                    </th>
                                    <th
                                        class="px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider border-b-2 border-gray-200">
                                        Nama
                                    </th>
                                    <th
                                        class="px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider border-b-2 border-gray-200">
                                        No. Telepon
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200">
                                <template x-if="kamtomLoading">
                                    <tr>
                                        <td colspan="3" class="px-6 py-12 text-center">
                                            <div class="flex flex-col items-center gap-3">
                                                <div
                                                    class="w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin">
                                                </div>
                                                <p class="text-gray-500 font-medium">Memuat data...</p>
                                            </div>
                                        </td>
                                    </tr>
                                </template>

                                <template x-if="!kamtomLoading && kamtomData.length === 0 && !kamtomError">
                                    <tr>
                                        <td colspan="3" class="px-6 py-12 text-center text-gray-500">
                                            Belum ada peserta terdaftar
                                        </td>
                                    </tr>
                                </template>

                                <template x-for="(participant, index) in kamtomData" :key="index">
                                    <tr class="hover:bg-blue-50 transition-colors duration-200"
                                        :class="index % 2 === 0 ? 'bg-white' : 'bg-gray-50'">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900"
                                            x-text="index + 1"></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"
                                            x-text="participant.name"></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600"
                                            x-text="participant.phone"></td>
                                    </tr>
                                </template>
                            </tbody>
                        </table>
                    </div>

                    <!-- Error Message -->
                    <template x-if="kamtomError">
                        <div class="px-6 py-4 bg-red-50 border-t border-red-100">
                            <div class="flex items-center gap-2 text-red-700">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                        d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"
                                        clip-rule="evenodd" />
                                </svg>
                                <span class="text-sm font-medium" x-text="kamtomError"></span>
                            </div>
                        </div>
                    </template>
                </div>
            </section>

            <!-- WL-Toys 1/28 Section -->
            <section class="fade-in">
                <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
                    <!-- Section Header -->
                    <div class="bg-gradient-to-r from-purple-500 to-purple-600 px-6 py-5">
                        <h2 class="text-2xl md:text-3xl font-bold text-white flex items-center gap-3">
                            <span class="text-3xl">üèÅ</span>
                            <span>WL-Toys 1/28</span>
                        </h2>
                        <p class="text-purple-100 text-sm mt-1">
                            Total: <span x-text="wltoysData.length"></span> peserta
                        </p>
                    </div>

                    <!-- Table Container -->
                    <div class="overflow-x-auto custom-scrollbar">
                        <table class="w-full">
                            <thead class="bg-gray-50 sticky top-0">
                                <tr>
                                    <th
                                        class="px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider border-b-2 border-gray-200">
                                        No
                                    </th>
                                    <th
                                        class="px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider border-b-2 border-gray-200">
                                        Nama
                                    </th>
                                    <th
                                        class="px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider border-b-2 border-gray-200">
                                        No. Telepon
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="divide-y divide-gray-200">
                                <template x-if="wltoysLoading">
                                    <tr>
                                        <td colspan="3" class="px-6 py-12 text-center">
                                            <div class="flex flex-col items-center gap-3">
                                                <div
                                                    class="w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full animate-spin">
                                                </div>
                                                <p class="text-gray-500 font-medium">Memuat data...</p>
                                            </div>
                                        </td>
                                    </tr>
                                </template>

                                <template x-if="!wltoysLoading && wltoysData.length === 0 && !wltoysError">
                                    <tr>
                                        <td colspan="3" class="px-6 py-12 text-center text-gray-500">
                                            Belum ada peserta terdaftar
                                        </td>
                                    </tr>
                                </template>

                                <template x-for="(participant, index) in wltoysData" :key="index">
                                    <tr class="hover:bg-purple-50 transition-colors duration-200"
                                        :class="index % 2 === 0 ? 'bg-white' : 'bg-gray-50'">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900"
                                            x-text="index + 1"></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"
                                            x-text="participant.name"></td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600"
                                            x-text="participant.phone"></td>
                                    </tr>
                                </template>
                            </tbody>
                        </table>
                    </div>

                    <!-- Error Message -->
                    <template x-if="wltoysError">
                        <div class="px-6 py-4 bg-red-50 border-t border-red-100">
                            <div class="flex items-center gap-2 text-red-700">
                                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd"
                                        d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"
                                        clip-rule="evenodd" />
                                </svg>
                                <span class="text-sm font-medium" x-text="wltoysError"></span>
                            </div>
                        </div>
                    </template>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="text-center text-gray-500 text-sm py-6">
            <p>Data diperbarui otomatis setiap 30 detik</p>
            <p class="mt-1">Terakhir diperbarui: <span x-text="lastUpdated"></span></p>
        </footer>
    </div>

    <script>
        function participantApp() {
            return {
                // CSV URLs - Replace these with actual Google Sheets CSV export URLs
                KAMTOM_CSV_URL: "https://docs.google.com/spreadsheets/d/e/2PACX-1vRCv8PGo3xWlJdsXoWLCwfki7BdwB6t8zDk2ISpZjjyjzTrHLV-uHqoQ8pBdA0S0hTV7E7eaQnNmJSy/pub?gid=1996619429&single=true&output=csv",
                WLTOYS_CSV_URL: "https://docs.google.com/spreadsheets/d/e/2PACX-1vRCv8PGo3xWlJdsXoWLCwfki7BdwB6t8zDk2ISpZjjyjzTrHLV-uHqoQ8pBdA0S0hTV7E7eaQnNmJSy/pub?gid=2108465722&single=true&output=csv",

                // Data state
                kamtomData: [],
                wltoysData: [],

                // Loading state
                kamtomLoading: true,
                wltoysLoading: true,

                // Error state
                kamtomError: null,
                wltoysError: null,

                // Last updated timestamp
                lastUpdated: '',

                // Refresh interval
                refreshInterval: null,

                // Initialize
                init() {
                    this.loadAllData();
                    this.startAutoRefresh();
                },

                // Start auto-refresh every 30 seconds
                startAutoRefresh() {
                    this.refreshInterval = setInterval(() => {
                        this.loadAllData();
                    }, 30000); // 30 seconds
                },

                // Load all data
                async loadAllData() {
                    await Promise.all([
                        this.loadKamtomData(),
                        this.loadWltoysData()
                    ]);
                    this.updateTimestamp();
                },

                // Load Kamtom data
                async loadKamtomData() {
                    this.kamtomLoading = true;
                    this.kamtomError = null;

                    try {
                        const data = await this.fetchCSV(this.KAMTOM_CSV_URL);
                        this.kamtomData = data;
                    } catch (error) {
                        this.kamtomError = `Gagal memuat data: ${error.message}`;
                        console.error('Kamtom error:', error);
                    } finally {
                        this.kamtomLoading = false;
                    }
                },

                // Load WL-Toys data
                async loadWltoysData() {
                    this.wltoysLoading = true;
                    this.wltoysError = null;

                    try {
                        const data = await this.fetchCSV(this.WLTOYS_CSV_URL);
                        this.wltoysData = data;
                    } catch (error) {
                        this.wltoysError = `Gagal memuat data: ${error.message}`;
                        console.error('WL-Toys error:', error);
                    } finally {
                        this.wltoysLoading = false;
                    }
                },

                // Fetch and parse CSV
                async fetchCSV(url) {
                    // Check if URL is placeholder
                    if (url.includes('_URL_HERE')) {
                        throw new Error('URL belum dikonfigurasi');
                    }

                    const response = await fetch(url);

                    if (!response.ok) {
                        throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                    }

                    const text = await response.text();
                    return this.parseCSV(text);
                },

                // Parse CSV text to array of objects
                parseCSV(text) {
                    const lines = text.trim().split('\n');

                    if (lines.length === 0) {
                        return [];
                    }

                    // Skip header row and parse data rows
                    const dataRows = lines.slice(1);

                    return dataRows
                        .map(line => {
                            // Simple CSV parsing (handles basic cases)
                            const values = line.split(',').map(v => v.trim().replace(/^"|"$/g, ''));

                            if (values.length >= 2) {
                                return {
                                    name: values[0] || '-',
                                    phone: this.censorPhoneNumber(values[1] || '-')
                                };
                            }
                            return null;
                        })
                        .filter(row => row !== null && row.name !== '-');
                },

                // Censor phone number - show first 4 and last 4 digits, mask middle with ****
                censorPhoneNumber(phone) {
                    if (!phone || phone === '-' || phone.length < 8) {
                        return phone;
                    }

                    // Remove any non-digit characters for processing
                    const digits = phone.replace(/\D/g, '');

                    if (digits.length < 8) {
                        return phone;
                    }

                    // Show first 4 and last 4 digits, mask the middle
                    const firstPart = digits.slice(0, 4);
                    const lastPart = digits.slice(-4);

                    return `${firstPart}****${lastPart}`;
                },

                // Update timestamp
                updateTimestamp() {
                    const now = new Date();
                    const options = {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit',
                        second: '2-digit',
                        hour12: false
                    };
                    this.lastUpdated = now.toLocaleString('id-ID', options);
                }
            };
        }
    </script>
</body>

</html>